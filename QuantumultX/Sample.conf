# Sample Quantumult Configuration

# ä»¥ ";" æˆ– "#" æˆ– "//" å¼€å¤´çš„è¡Œä¸ºæ³¨é‡Šè¡Œã€‚

[general]
# è‡ªå®šä¹‰è®¢é˜…é…ç½®å›¾æ ‡
;profile_img_url = http://www.example.com/example.png

# èµ„æºè§£æå™¨
# å¯åœ¨ https://raw.githubusercontent.com/crossutility/Quantumult-X/master/resource-parser.js ä¸Šæ‰¾åˆ°èµ„æºè§£æå™¨ URL ç¤ºä¾‹
resource_parser_url = https://cdn.jsdelivr.net/gh/KOP-XIAO/QuantumultX@master/Scripts/resource-parser.js

# ---(å»¶è¿Ÿæµ‹è¯•)---
# Quantumult ä½¿ç”¨ HEAD æ–¹æ³•å‘é€ HTTP è¯·æ±‚åˆ° server_check_url æ¥æµ‹è¯•ä»£ç†çš„çŠ¶æ€ï¼Œç»“æœåº”è¯¥æ˜¯ä¸¤ä¸ªå»¶è¿Ÿï¼Œç¬¬ä¸€ä¸ªæ˜¯ TCP æ¡æ‰‹åˆ°ä»£ç†æœåŠ¡å™¨ï¼Œç¬¬äºŒä¸ªæ˜¯ HTTP å»¶è¿Ÿ (ä» Quantumult æˆåŠŸæ”¶åˆ° server_check_url çš„ HTTP å“åº”åˆ° Quantumult å¼€å§‹å‘é€ HTTP è¯·æ±‚åˆ° server_check_url çš„æ—¶é—´)ã€‚
# é—ªç”µå›¾æ ‡æ„å‘³ç€ TCP Fast Open æˆåŠŸã€‚
# å¦‚æœ [server_local] éƒ¨åˆ†æˆ– [server_remote] ä¸­çš„æœåŠ¡å™¨æœ‰è‡ªå·±çš„ server_check_urlï¼Œåˆ™ä½¿ç”¨å®ƒè‡ªå·±çš„ server_check_urlï¼Œè€Œä¸æ˜¯ [general] éƒ¨åˆ†çš„ server_check_urlã€‚

# ç½‘ç»œæ£€æŸ¥ URL
network_check_url = http://www.apple.com/library/test/success.html
# æœåŠ¡å™¨æ£€æŸ¥ URL
server_check_url = http://cp.cloudflare.com/generate_204
# æœåŠ¡å™¨æ£€æŸ¥ User Agent
;server_check_user_agent = Agent/1.0
# æœåŠ¡å™¨æ£€æŸ¥è¶…æ—¶ (æ¯«ç§’)
# ä»…å½“ server_check_timeout å€¼å°äºæˆ–ç­‰äº 5000 (æ¯«ç§’) æ—¶ï¼Œæ‰ä¼šè€ƒè™‘è¯¥å€¼ã€‚
# è¯¥å€¼ä¸æ£€æŸ¥è¿‡ç¨‹çš„æ€»æŒç»­æ—¶é—´ (åŒ…æ‹¬ DNS æŸ¥è¯¢ã€TCP æ¡æ‰‹ã€TLS æ¡æ‰‹å’Œåº”ç”¨å±‚ HTTP ä¼šè¯æŒç»­æ—¶é—´) è¿›è¡Œæ¯”è¾ƒï¼Œå› æ­¤æ€»æŒç»­æ—¶é—´å¯èƒ½æ˜¾è‘—é•¿äºã€ŒTCPæ¡æ‰‹ã€å’Œã€ŒHTTPä¼šè¯æŒç»­æ—¶é—´ã€ã€‚
;server_check_timeout = 5000
# ------

# èŠ‚ç‚¹åœ°ç†ä½ç½®æ£€æŸ¥å™¨
geo_location_checker = http://ip-api.com/json/?lang=zh-CN, https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Quantumult/Script/geo_location_checker.js

# ---(è¿è¡Œæ¨¡å¼ä¸ä¸´æ—¶ç¦ç”¨)---
# è¿è¡Œæ¨¡å¼
# æ ¼å¼ä¸º [èœ‚çªæ•°æ®], [Wi-Fi], [SSID]ï¼Œä¸‹ä¾‹è¡¨ç¤ºä¸ºåœ¨èœ‚çªæ•°æ®ä½¿ç”¨åˆ†æµ (ç¬¬ä¸€ä¸ª filter)ï¼Œåœ¨ Wi-Fi ä½¿ç”¨åˆ†æµ (ç¬¬äºŒä¸ª filter)ï¼Œåœ¨ SSID ä¸º LINK_22E171 æ—¶ä½¿ç”¨å…¨éƒ¨ä»£ç†ï¼Œåœ¨ SSID ä¸º LINK_22E172 æ—¶ä½¿ç”¨å…¨éƒ¨ç›´è¿ã€‚
# æ­¤æ—¶ Rewrite ä¸ Task ä»ç„¶ç”Ÿæ•ˆã€‚
;running_mode_trigger = filter, filter, LINK_22E171:all_proxy, LINK_22E172:all_direct

# åœ¨ SSID ä¸º LINK_22E174 ä¸ LINK_22E175 æ—¶æš‚æ—¶ç¦ç”¨ Quantumult X
# æ­¤æ—¶ä»… Task ç”Ÿæ•ˆã€‚
;ssid_suspended_list = LINK_22E174, LINK_22E175
# ------

# ---(DNS)---
# DNS æ’é™¤åˆ—è¡¨ï¼Œè®¾ç½®ç¦ç”¨ Fake IP çš„åŸŸåã€‚ä¸åœ¨ dns_exclusion_list ä¸­çš„åŸŸåå¯ç”¨äº†å ä½ç¬¦ IP (198.18.0.0/15) æ˜ å°„æœºåˆ¶ï¼Œå¹¶å…·æœ‰æ‰€è°“çš„ã€Œresolve-on-remoteã€æ•ˆæœã€‚
# å¯¹ dns_exclusion_list ä¸­åŸŸåçš„ dns æŸ¥è¯¢å¯èƒ½éµå¾ªä¹Ÿå¯èƒ½ä¸éµå¾ª [dns] ä¸­çš„è®¾ç½®ã€‚
dns_exclusion_list = *.cmpassport.com, *.jegotrip.com.cn, *.icitymobile.mobi, id6.me, *.pingan.com.cn, *.cmbchina.com

# é»˜è®¤æƒ…å†µä¸‹ (loopback) å½“ä¸€ä¸ªåŸŸåœ¨ DNS çº§åˆ«è¢«æ‹’ç»æ—¶ï¼Œå°†è¿”å›ç¯å›IPå“åº”ï¼Œå¯ä»¥é€šè¿‡å°† dns_reject_domain_behavior è®¾ç½®ä¸º no-error-no-answerã€nxdomain æˆ– none æ¥æ›´æ”¹æ­¤è¡Œä¸ºã€‚
# è¿™å°†æ”¹å˜å“åº”è¡Œä¸ºï¼Œä½¿ç”¨ NOERROR NOANSWER å“åº”æˆ–ä½¿ç”¨ NXDOMAIN å“åº”æˆ–æ— å“åº”æ¥ç¦ç”¨ DNS çº§åˆ«æ‹’ç»ç‰¹æ€§ã€‚
# å¦‚æœæŠŠæ‹’ç»åŸŸåæ”¹ä¸ºéæ‹’ç»çš„ (é€šè¿‡æ”¹å˜é…ç½®ã€åˆ†æµæˆ–ç­–ç•¥)ï¼Œå¯èƒ½æœ€å¤šéœ€è¦ 10 ç§’é’Ÿæ‰èƒ½ç”Ÿæ•ˆ (TTL 10)ã€‚
;dns_reject_domain_behavior = loopback

# è‡ªå®šä¹‰ DoH çš„ User Agent
;doh_user_agent = Agent/1.0
# ------

# ---(UDP)---
# è®¾ç½®ä¸¢å¼ƒ (é€šè¿‡ Quantumault éš§é“æ¥å£)çš„ UDP æ•°æ®åŒ…çš„ç«¯å£ï¼ŒICMP (ç«¯å£ä¸å¯è¾¾) æ¶ˆæ¯å°†è¢«å‘å›ã€‚
# è¿™ä¸ªè®¾ç½®ä¸åˆ†æµè§„åˆ™æˆ–ç­–ç•¥æ— å…³ï¼Œä¸ä»£ç† (æœåŠ¡å™¨) ç«¯å£ä¹Ÿæ— å…³ã€‚
# å¯ä»¥é€šè¿‡ udp_whitelist è®¾ç½®ä¸ä¸¢å¼ƒçš„ç™½åå•ç«¯å£ï¼Œä½¿ç”¨ - è®¾ç½®ç«¯å£èŒƒå›´ï¼Œå¦‚ï¼šudp_whitelist = 53, 123, 1900, 80-443
# æˆ–ä½¿ç”¨ udp_drop_list è®¾ç½®æŒ‡å®šç«¯å£ï¼Œå¦‚ï¼šudp_drop_list = 1900, 80
# udp_drop_list æœºåˆ¶ç±»ä¼¼äº udp_whitelist ä¸¢å¼ƒ UDP æ•°æ®åŒ…ï¼Œä½†ä¸ä¼šå‘å› ICMP æ¶ˆæ¯ã€‚udp_drop_list åªèƒ½æ•è· udp_drop_list å…è®¸çš„ UDP æ•°æ®åŒ…ã€‚
udp_drop_list = 443

# ç”¨äºè®¾ç½®å½“ä»£ç† (æœåŠ¡å™¨) ä¸æ”¯æŒ UDP Relay (æœªåœ¨é…ç½®ä¸­é…ç½® udp-relay=true æˆ–æœåŠ¡ç«¯ä¸æ”¯æŒæˆ–æœªå¼€å¯) æ—¶ï¼Œæ‰€ä½¿ç”¨çš„ UDP è¿æ¥ç­–ç•¥ã€‚
# é»˜è®¤ä¸º rejectï¼Œè‹¥æ²¡æœ‰æ”¯æŒ UDP Relay çš„ä»£ç† (æœåŠ¡å™¨) å¯è€ƒè™‘è®¾ç½®ä¸º directï¼Œä»¥å…å½±å“å¦‚ä½¿ç”¨ UDP è¿æ¥çš„è¯­éŸ³è§†é¢‘é€šè¯ã€æ¸¸æˆç­‰è¿æ¥ã€‚
# æ³¨æ„ï¼šå¦‚æœéœ€è¦è°ƒæ•´è¯¥å‚æ•°çš„å€¼ä¸º directï¼Œè¯·åŠ¡å¿…æ¸…æ¥šäº†è§£åŒä¸€ç›®æ ‡ä¸»æœºå TCP è¯·æ±‚ä¸ UDP è¯·æ±‚çš„æºåœ°å€ä¸åŒæ‰€é€ æˆçš„éšç§åŠå®‰å…¨é£é™©ã€‚
fallback_udp_policy = reject
# ------

# excluded_routes çš„æµé‡ä¸ä¼šç”± Quantumult å¤„ç†ã€‚æœ€å¥½åœ¨ä¿®æ”¹åé‡æ–°å¯åŠ¨è®¾å¤‡ã€‚
excluded_routes = 239.255.255.250/32

icmp_auto_reply = true

[dns]
# æŸ¥è¯¢ç»“æœåªç”¨äºè¯„ä¼°è¿‡æ»¤å™¨æˆ–é€šè¿‡ç›´æ¥ç­–ç•¥è¿æ¥ï¼Œå½“é€šè¿‡æœåŠ¡å™¨è¿æ¥æ—¶ï¼ŒæŸ¥è¯¢ç»“æœä¸ä¼šè¢«ä½¿ç”¨ï¼ŒQuantumult æ°¸è¿œä¸ä¼šçŸ¥é“ç›¸å…³åŸŸåçš„ç›®æ ‡ IPã€‚
# å¦‚æœæ‚¨æƒ³è®©æŸä¸ªåŸŸå(ä¾‹å¦‚ï¼šexample.com)ä¸º 127.0.0.0.1ï¼Œåªéœ€åœ¨ã€Œfilter_localã€éƒ¨åˆ†æ·»åŠ ã€Œhost, example.com, rejectã€å³å¯ã€‚æ‹’ç»æ“ä½œå°†è¿”å› 127.0.0.1 çš„ DNS å“åº”ã€‚

# ç¦ç”¨ç³»ç»Ÿ DNS
# ä¸ºäº†æé«˜æ€§èƒ½ï¼Œä¼šä½¿ç”¨ä»å½“å‰ç½‘ç»œ(ç³»ç»Ÿ)ä¸­è·å–çš„ DNS æœåŠ¡å™¨(æ‚¨å¯ä»¥ä½¿ç”¨ã€Œno-systemã€ç¦ç”¨æ­¤åŠŸèƒ½ï¼Œä½†è‡³å°‘è¦å¢åŠ ä¸€ä¸ªè‡ªå®šä¹‰çš„ DNS æœåŠ¡å™¨ã€‚
;no-system

# ç¦ç”¨ IPv6
# å½“è®¾ç½®ã€Œno-ipv6ã€æ—¶ï¼ŒQuanumult X Tunnel çš„ DNS æ¨¡å—ä¼šç›´æ¥è®© AAAA æŸ¥è¯¢å¤±è´¥ã€‚
;no-ipv6

# è‡ªå®šä¹‰ DNS
# > DNSPod Public DNS
server=119.29.29.29
# > Bytedance
server=180.184.1.1
# > Alibaba Public DNS
server=223.5.5.5

# è®¾ç½® DNS over HTTPS æˆ– DNS over QUIC æ—¶ï¼Œç³»ç»Ÿå’Œæ‰€æœ‰å…¶ä»–æœªåŠ å¯†çš„å¸¸è§„ (æ²¡æœ‰ç‰¹å®šçš„åŸŸä¸ä¹‹ç»‘å®š) æœåŠ¡å™¨å°†è¢«å¿½ç•¥ã€‚DoQ çš„é»˜è®¤ç«¯å£æ˜¯ 853ï¼Œå¦‚æœåŒæ–¹åŒæ„ä¸º DoQ ä½¿ç”¨å¦ä¸€ä¸ªç«¯å£ï¼Œå¦‚ 456ï¼Œæ‚¨å¯ä»¥å°†å…¶è®¾ç½®ä¸º quic://dns.example.com:456
# å¤šä¸ª(å¹¶å‘æŸ¥è¯¢) DoQ æˆ– DoH åº”åœ¨ä¸€è¡Œä¸­é…ç½®ï¼ŒURL ç”¨é€—å·åˆ†éš”ã€‚å½“è®¾ç½® DoQ å’Œ DoH æ—¶ï¼ŒæŸ¥è¯¢å°†åŒæ—¶å‘é€åˆ°æ‰€æœ‰æœåŠ¡å™¨ã€‚
# å¦‚æœ iOS ç‰ˆæœ¬ < iOS 13.0ï¼ŒDoH æœåŠ¡å™¨çš„æœ€å¤§æ•°é‡å°†é™åˆ¶ä¸º 1ã€‚å¦‚æœ iOS ç‰ˆæœ¬ < iOS 15.0ï¼ŒDoH æœåŠ¡å™¨çš„æœ€å¤§æ•°é‡å°†é™åˆ¶ä¸º 2ã€‚
# å½“è®¾ç½®äº† prefer-doh3 æ—¶ï¼ŒDoH æŸ¥è¯¢å°†å°è¯•é€šè¿‡ HTTP3 è¿›è¡Œ DNSï¼Œå¦‚æœå¤±è´¥ï¼Œåˆ™æŸ¥è¯¢è¿æ¥å°†å›é€€åˆ° HTTP2ã€‚ç”±äº HTTP/2 å’Œ HTTP/3 è¿æ¥æ”¯æŒå¤šè·¯ä¼ è¾“ï¼Œå› æ­¤å½“æ‚¨æ›´æ”¹æ­¤è®¾ç½®æ—¶ï¼Œå®ƒå¯èƒ½ä¸ä¼šç«‹å³ç”Ÿæ•ˆï¼Œä½†æ‚¨å¯ä»¥é‡æ–°è¿æ¥ Quantumult X éš§é“æˆ–æ‰‹åŠ¨æ›´æ”¹ç½‘ç»œç¯å¢ƒä»¥ä½¿å…¶ç«‹å³ç”Ÿæ•ˆã€‚
;prefer-doh3
;doq-server = quic://dns1.example.com, quic://dns2.example.com
;doh-server = https://exmaple1.com/dns-query, https://exmaple2.com/dns-query

# æœ¬åœ° DNS æ˜ å°„
# > Firebase Cloud Messaging
address=/mtalk.google.com/108.177.125.188
# > Google Dl
server=/dl.google.com/119.29.29.29
server=/dl.l.google.com/119.29.29.29
server=/update.googleapis.com/119.29.29.29
# > PlayStation
server=/*.dl.playstation.net/119.29.29.29

# å½“å¹¶å‘å‘å¤šä¸ªä¸Šæ¸¸ DNS è¿›è¡ŒæŸ¥è¯¢æ—¶ï¼Œå¦‚å“åº”æœ€å¿«çš„ä¸Šæ¸¸ DNS æŠ¢ç­”çš„ç»“æœå‘½ä¸­äº†è¯¥æ¡ç›®ï¼Œåˆ™ Quantumult X Tunnel DNS æ¨¡å—ä¼šç­‰å¾…å…¶ä»– DNS æœåŠ¡å™¨çš„å“åº”ç»“æœ (å¦‚æŠ¢ç­”çš„ç»“æœä¸­è‡³å°‘æœ‰ä¸€ä¸ªä¸å±äºè¯¥æ¡ç›®ï¼Œåˆ™ä¸ä¼šç­‰å¾…å…¶ä»– DNS çš„å“åº”ï¼Œæ­¤æ—¶æœ‰æ•ˆç»“æœé‡‡ç”¨ä¸å±äºè¯¥æ¡ç›®çš„æ‰€æœ‰è®°å½•)ï¼›
# å¦‚æ‰€æœ‰ä¸Šæ¸¸ DNS è¿”å›çš„æ‰€æœ‰ç»“æœå‡å‘½ä¸­è¯¥æ¡ç›®ï¼Œåˆ™åˆ¤å®šä¸º DNS æŸ¥è¯¢å¤±è´¥ï¼›
# å¦‚é…ç½®çš„ä¸Šæ¸¸ DNS åŒ…å«æœ‰å»å¹¿å‘ŠåŠŸèƒ½çš„ DNS æœåŠ¡å™¨ï¼Œè¯·å‹¿ä½¿ç”¨è¯¥å‚æ•°ï¼›
# CN 61.160.148.90, 182.43.124.6, 124.236.16.201
# CU 39.102.194.95, 106.74.25.198
# CM 36.135.17.248, 36.135.82.110, 39.105.1.17, 39.130.181.72, 39.130.181.73, 39.173.74.185, 47.92.198.202, 111.22.226.1, 111.28.0.32, 111.31.192.110, 111.44.246.131, 111.56.127.216, 111.63.132.170, 112.15.232.43, 112.17.14.211, 112.54.50.50, 117.156.25.11, 117.187.6.14, 117.187.10.42, 120.202.17.103, 120.204.204.201, 120.209.204.204, 120.222.19.204, 121.4.135.105,183.203.36.19, 183.203.36.36, 183.207.72.18, 183.213.92.2, 183.220.145.129, 183.252.183.9, 211.137.54.227, 211.137.117.149, 211.137.133.69, 211.138.218.190, 211.139.25.61, 211.139.145.129, 218.201.25.129, 218.201.25.130, 218.203.122.98, 221.130.39.3, 221.180.160.221
circumvent-ipv4-answer = 127.0.0.1, 0.0.0.0, 61.160.148.90, 182.43.124.6, 124.236.16.201, 39.102.194.95, 106.74.25.198, 36.135.17.248, 36.135.82.110, 39.105.1.17, 39.130.181.72, 39.130.181.73, 39.173.74.185, 47.92.198.202, 111.22.226.1, 111.28.0.32, 111.31.192.110, 111.44.246.131, 111.56.127.216, 111.63.132.170, 112.15.232.43, 112.17.14.211, 112.54.50.50, 117.156.25.11, 117.187.6.14, 117.187.10.42, 120.202.17.103, 120.204.204.201, 120.209.204.204, 120.222.19.204, 121.4.135.105,183.203.36.19, 183.203.36.36, 183.207.72.18, 183.213.92.2, 183.220.145.129, 183.252.183.9, 211.137.54.227, 211.137.117.149, 211.137.133.69, 211.138.218.190, 211.139.25.61, 211.139.145.129, 218.201.25.129, 218.201.25.130, 218.203.122.98, 221.130.39.3, 221.180.160.221
circumvent-ipv6-answer = ::

[policy]
static=Final, proxy, direct, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Final.png
static=Streaming!CN, proxy, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Streaming!CN.png
static=StreamingCN, direct, proxy, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/StreamingCN.png

[server_remote]

[filter_remote]
# Block OTA update for iOS
https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Module/Block/iOSUpdate.sgmodule, tag=â›”ï¸Block OTA Update(iOS), force-policy=reject, update-interval=172800, opt-parser=true, enabled=false

# Direct+
https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Direct+.list, tag=ğŸ‡¨ğŸ‡³Direct+, force-policy=direct, update-interval=172800, opt-parser=true, enabled=true

# Reject
# > Advertising
https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Extra/Reject/Advertising.list, tag=â›”ï¸Advertising, force-policy=reject, update-interval=172800, opt-parser=true, inserted-resource=true, enabled=true
# > Tracking
https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Extra/Reject/Tracking.list, tag=â›”ï¸Tracking, force-policy=reject, update-interval=172800, opt-parser=true, inserted-resource=true, enabled=true

# Streaming!CN
https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Extra/Streaming/!CN.list, tag=ğŸStreaming!CN, force-policy=Streaming!CN, update-interval=172800, opt-parser=true, enabled=true

# StreamingCN
https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Extra/Streaming/CN.list, tag=ğŸStreamingCN, force-policy=StreamingCN, update-interval=172800, opt-parser=true, enabled=true

# Proxy
https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Proxy.list, tag=ğŸ‡ºğŸ‡³Proxy, force-policy=proxy, update-interval=172800, opt-parser=true, enabled=true

# Direct
https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Direct.list, tag=ğŸ‡¨ğŸ‡³Direct, force-policy=direct, update-interval=172800, opt-parser=true, enabled=true

# WeChat
https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Extra/WeChat.list, tag=ğŸ’¬WeChat, force-policy=direct, update-interval=172800, opt-parser=true, enabled=true

# Proxy+
https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Proxy+.list, tag=ğŸ‡ºğŸ‡³Proxy+, force-policy=proxy, update-interval=172800, opt-parser=true, enabled=true

[rewrite_remote]
# Block OTA update for iPadOS, Requires "â›”ï¸Block OTA Update(iOS)" filter
https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Module/Block/iOSUpdate.sgmodule, tag=â›”ï¸Block OTA Update(iPadOS), update-interval=172800, opt-parser=true, enabled=false

# Unlock bilibili(white)
https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Module/Unlock/bilibili.w.sgmodule, tag=ğŸUnlock bilibili(white), update-interval=172800, opt-parser=true, enabled=false

# Unlock AbeamTV
https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Module/Unlock/AbeamTV.sgmodule, tag=ğŸUnlock AbeamTV, update-interval=172800, opt-parser=true, enabled=false

# Block Advertising
https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Module/Block/Advertising.sgmodule, tag=â›”ï¸Block Advertising, update-interval=172800, opt-parser=true, enabled=true

[server_local]

[filter_local]
# Local Area Network
host-suffix, local, direct
ip-cidr, 192.168.0.0/16, direct
ip-cidr, 10.0.0.0/8, direct
ip-cidr, 172.16.0.0/12, direct
ip-cidr, 127.0.0.0/8, direct
ip-cidr, 100.64.0.0/10, direct
ip-cidr, 224.0.0.0/4, direct
ip6-cidr, fe80::/10, direct

# GeoIP China
geoip, cn, direct

final, Final

[rewrite_local]
# Redirect Google Search Service
^https?:\/\/(www.)?(g|google)\.cn url 302 https://www.google.com

[task_local]
event-interaction https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/streaming-ui-check.js, tag=ğŸ“ºæµåª’ä½“æœåŠ¡æŸ¥è¯¢, img-url=checkmark.seal.system, enabled=true

[http_backend]

[mitm]
skip_validating_cert = true
hostname = www.google.cn
