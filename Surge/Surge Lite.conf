[General]
# å®˜æ–¹æ‰‹å†Œ - https://manual.nssurge.com/
# ç†è§£åŸç† - https://manual.nssurge.com/book/understanding-surge/cn/
# å¸®åŠ©ä¸­å¿ƒ - https://nssurge.zendesk.com/
# æŠ€æœ¯ç¤¾åŒº - https://community.nssurge.com


# Self-use sgmodule:

# Advanced Settings & URL Redirect - https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Module/General.sgmodule

# Block Advertising for Surge iOS - https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Module/Block/Advertising.sgmodule

# Block YouTube Advertising - https://raw.githubusercontent.com/Maasea/sgmodule/master/YoutubeAds.sgmodule

# iRingo for Siri & Search - https://raw.githubusercontent.com/VirgilClyne/iRingo/main/sgmodule/Siri.Proxy.sgmodule

# iRingo for Location Services - https://raw.githubusercontent.com/VirgilClyne/iRingo/main/sgmodule/Location.sgmodule

# BoxJs - https://raw.githubusercontent.com/chavyleung/scripts/master/box/rewrite/boxjs.rewrite.surge.sgmodule

# iRingo.boxjs.json - https://raw.githubusercontent.com/VirgilClyne/iRingo/main/box/iRingo.boxjs.json

# Spotify è§£é” - https://raw.githubusercontent.com/app2smile/rules/master/module/spotify.module

# Update-2023.10.18.15.15

# ä½ å¯ä»¥ä»è¯¥ URL ä¸‹è½½è¿™ä¸ªé…ç½®æ–‡ä»¶:https://raw.githubusercontent.com/TributePaulWalker/Profiles/main/Surge/Surge%20Lite.conf

# > è·³è¿‡ä»£ç†
skip-proxy = 192.168.0.0/24, 10.0.0.0/8, 172.16.0.0/12, 127.0.0.1, localhost, *.local, iosapps.itunes.apple.com

# > æ’é™¤ç®€å•ä¸»æœºå
exclude-simple-hostnames = true

# > Internet æµ‹è¯• URL
internet-test-url = http://taobao.com/

# > ä»£ç†æµ‹é€Ÿ URL
proxy-test-url = http://www.apple.com/

# > æµ‹è¯•è¶…æ—¶ï¼ˆç§’ï¼‰
test-timeout = 5

# > DNS æœåŠ¡å™¨
dns-server = 223.5.5.5, 114.114.114.114, system

# > åŠ å¯†çš„DNSæœåŠ¡å™¨(å¦‚æ— å¿…è¦ä¸å»ºè®®ä½¿ç”¨)
# encrypted-dns-server = https://223.5.5.5/ // é™¤éå½“åœ° ISP æœ‰ä¸¥é‡çš„ DNS æ±¡æŸ“é—®é¢˜ï¼Œå¦åˆ™æ²¡å¿…è¦å¼€å¯ DoHï¼Œä¼ ç»Ÿ DNS çš„æ€§èƒ½æœ€ä¼˜ï¼Œç½‘ç»œå¼‚å¸¸åæ¢å¤é€Ÿåº¦æœ€å¿«

# > å¢å¼ºç‰ˆ Wi-Fi åŠ©ç†
wifi-assist = true

# > IPv6 æ”¯æŒï¼ˆé»˜è®¤å…³é—­ï¼‰
ipv6 = false // å¦‚æ— ç‰¹æ®Šéœ€æ±‚ä¸åº”å¼€å¯ IPv6ï¼Œç›®å‰ç½‘ç»œç¯å¢ƒä¸‹ IPv6 åªä¼šå¸¦æ¥é—®é¢˜ã€‚

# > æ–°å¢ä¸¤ä¸ªå‚æ•°ï¼ˆéœ€è¦ iOS 16.4 ä»¥ä¸Šç‰ˆæœ¬ï¼‰
# è¯·æ³¨æ„ï¼Œè¿™ä¸¤ä¸ªé€‰é¡¹ä»…åº”åœ¨æœ‰ç‰¹æ®Šéœ€æ±‚æ—¶å¼€å¯ã€‚æ­£å¸¸æƒ…å†µä¸‹ä¸åº”è¯¥å¼€å¯ä»¥é¿å…äº§ç”Ÿé—®é¢˜ã€‚

# > è®© Surge æ¥ç®¡ Apple Push Notification service (APNs) ç›¸å…³è¯·æ±‚
include-apns = false

# > è®© Surge æ¥ç®¡ VoLTE, Wi-Fi Calling, IMS, MMS, Visual Voicemail ç­‰ç›¸å…³æ•°æ®ç½‘ç»œæœåŠ¡çš„è¯·æ±‚
include-cellular-services = false

# > ä»£ç†æ¥ç®¡
compatibility-mode = 1

[Proxy Group]
Proxy = select, HK, TW, JP, SG, US

HK = url-test, policy-path=ä½ çš„è®¢é˜…åœ°å€, interval=600, tolerance=50, update-interval=86400, policy-regex-filter=(ğŸ‡­ğŸ‡°)|(æ¸¯)|(Hong)|(HK), hidden=false

TW = url-test, policy-path=ä½ çš„è®¢é˜…åœ°å€, interval=600, tolerance=50, update-interval=86400, policy-regex-filter=(ğŸ‡¨ğŸ‡³)|(å°)|(Tai)|(TW), hidden=false

JP = url-test, policy-path=ä½ çš„è®¢é˜…åœ°å€, interval=600, tolerance=50, update-interval=86400, policy-regex-filter=(ğŸ‡¯ğŸ‡µ)|(æ—¥)|(Japan)|(JP), hidden=false

SG = url-test, policy-path=ä½ çš„è®¢é˜…åœ°å€, interval=600, tolerance=50, update-interval=86400, policy-regex-filter=(ğŸ‡¸ğŸ‡¬)|(æ–°)|(Singapore)|(SG), hidden=false

US = url-test, policy-path=ä½ çš„è®¢é˜…åœ°å€, interval=600, tolerance=50, update-interval=86400, policy-regex-filter=(ğŸ‡ºğŸ‡¸)|(ç¾)|(States)|(US), hidden=false

[Rule]
RULE-SET,https://github.com/Blankwonder/surge-list/raw/master/blocked.list,Proxy

RULE-SET,https://github.com/Blankwonder/surge-list/raw/master/cn.list,DIRECT

DOMAIN,apps.apple.com,Proxy

DOMAIN-SUFFIX,ls.apple.com,DIRECT // Apple Maps

DOMAIN-SUFFIX,store.apple.com,DIRECT // Apple Store Online

RULE-SET,SYSTEM,DIRECT

DOMAIN-SUFFIX,vercel.app,Proxy // Sub-Store çš„ Web é¡µé¢

RULE-SET,https://github.com/Blankwonder/surge-list/raw/master/apple.list,Proxy

# ä»¥ä¸‹è§„åˆ™å°†è§¦å‘æœ¬åœ° DNS è§£æ
RULE-SET,LAN,DIRECT

GEOIP,CN,DIRECT

FINAL,Proxy,dns-failed

[Host]


[Header Rewrite]


[URL Rewrite]


[Script]
Sub-Store Core=type=http-request,pattern=^https?:\/\/sub\.store\/((download)|api\/(preview|sync|(utils\/node-info))),script-path=https://github.com/sub-store-org/Sub-Store/releases/latest/download/sub-store-1.min.js,requires-body=true,timeout=120,ability=http-client-policy
Sub-Store Simple=type=http-request,pattern=^https?:\/\/sub\.store,script-path=https://github.com/sub-store-org/Sub-Store/releases/latest/download/sub-store-0.min.js,requires-body=true

TFä¸‹è½½ä¿®æ­£ = type=http-request,pattern=^https?:\/\/testflight\.apple\.com\/v\d\/accounts\/.+?\/install$,requires-body=1,script-update-interval=-1,max-size=0,script-path=https://gist.githubusercontent.com/NobyDa/9be418b93afc5e9c8a8f4

[SSID Setting]


[MITM]

hostname = sub.store, testflight.apple.com
